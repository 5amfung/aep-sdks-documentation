# Configuration

The Configuration extension is built into the Mobile Core.  With its APIs you will generate the necessary events in the Event Hub that will provide configuration options for all installed extensions.

## Environment-aware configuration properties
{% hint style="info" %}
This feature is only available in iOS ACPCore v2.0.3 or newer
{% endhint %}

Some extension developers will choose to use different configuration values based on the working environment.  In that case, the configuration generated may have several entries for the same property.  For example, the Adobe Campaign Standard extension has different endpoints for development, staging, and production servers.  An example of what a raw configuration supporting multiple build environments might look like is shown below:

```javascript
{
  "myExtension.server": "mydomain.com",
  "__dev__myExtension.server": "mydomain.dev.com",
  "__stage__myExtension.server": "mydomain.stage.com"
}
```

{% hint style="success" %}
Each time a remote configuration is generated by Launch, a `build.environment` value is set based on the environment you are publishing.  When the remote configuration is downloaded, the configuration extension will take into consideration the value in `build.environment` and provide __only the non-prefixed version for the current environment__ in the shared state.  
{% endhint %}

Below is a modification of the previous example, which now includes `build.environment`:

```javascript
{
  "build.environment": "dev",
  "myExtension.server": "mydomain.com",
  "__dev__myExtension.server": "mydomain.dev.com",
  "__stage__myExtension.server": "mydomain.stage.com"
}
```

The resulting Shared State from Configuration:

```javascript
{
  "build.environment": "dev",
  "myExtension.server": "mydomain.dev.com"  
}
```

### Sample configuration

Here's a sample JSON file for the SDK

```javascript
{
    "experienceCloud.org": "3CE342C75100435B0A490D4C@AdobeOrg",  
    "target.clientCode": "yourclientcode",  
    "target.timeout": 5,  
    "audience.server": "omniture.demdex.net",  
    "audience.timeout": 5,  
    "analytics.rsids": "mobilersidsample",  
    "analytics.server": "obumobile1.sc.omtrdc.net",  
    "analytics.aamForwardingEnabled": false,  
    "analytics.offlineEnabled": true,  
    "analytics.batchLimit": 0,  
    "analytics.backdatePreviousSessionInfo": false,
    "global.privacy": "optedin",  
    "lifecycle.sessionTimeout": 300,  
    "rules.url": "https://link.to.rules/test.zip"
}
```
