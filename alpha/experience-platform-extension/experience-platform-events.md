# Experience Platform events

## XDM Schema

The Experience Platform extension can send events that follow a previously defined XDM schema to Adobe Data Platform. 

Find more about the Experience Data Model (XDM) [here](https://www.adobe.io/open/standards/xdm.html).

If you want to learn how to create a schema see [Create a schema using the Schema Editor](https://www.adobe.io/apis/experienceplatform/home/tutorials/alltutorials.html#!api-specification/markdown/narrative/tutorials/schema_editor_tutorial/schema_editor_tutorial.md).

## XDM events

The Experience Platform mobile extension exposes public APIs for creating custom events with the following structure:

| Data           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| Timestamp      | _(Required)_ The timestamp when the Experience Platform Event was sent through the Adobe Experience Platform Mobile SDK to the Adobe Experience Cloud and Data Platform, auto-generated by the SDK. |
| Event ID       | _(Required)_ Unique event identifier auto-generated by the Mobile SDK. |
| Event type     | _(Required)_ The event type, e.g. commerce:orderDetails.     |
| XDM data       | _(Required)_ Data following the XDM schema defined in the Schema Editor. |
| Event metadata | _(Optional)_ Solution specific metadata such as identity or personalization metadata. |
| Event query    | _(Optional)_ For each event override the server side decision settings, such as identity or personalization query. |
| Data           | _(Optional)_ Free form data (JSON formatted) that can be associated with an event. |
| Event merge ID | _(Optional)_ An identifier to correlate or merge multiple Experience Platform events together that are essentially the same event or should be merged. This is intended to be populated by the data producer prior to ingestion. |

{% hint style="info" %}
This extension provides public APIs for building the Experience Platform events which should not be confused with the Events built using the Mobile Core (Android) / ACPCore (iOS) extension.
{% endhint %}

The Experience Platform extension provides two interfaces: Schema and Property.

The **Schema** interface can be used for defining the classes associated with your defined schema in Adobe Data Platform.

```java
/**
 * Interface representing a Platform XDM Event Data schema.
 */
public interface Schema {

    /**
     * Returns the version of this schema as defined in the Adobe Experience Platform.
     * @return the version of this schema
     */
    String getSchemaVersion();

    /**
     * Returns the identifier for this schema as defined in the Adobe Experience Platform.
     * The identifier is a URI where this schema is defined.
     * @return the URI identifier for this schema
     */
    String getSchemaIdentifier();

    /**
     * Serialize this {@code Schema} object to a map equivalent of its XDM schema.
     * @return XDM formatted map of this {@code Schema} object
     */
    Map<String, Object> serializeToXdm();
}
```

The **Property** interface should be used when defining complex properties in your XDM Schema, for example any property that is no of primitive type, String or Date. 

```java
public interface Property {

    /**
     * Serialize this {@code Property} object to a map equivalent of its XDM schema.
     * @return XDM formatted map of this {@code Property} object
     */
    Map<String, Object> serializeToXdm();
}
```

It is important to follow these interfaces when defining your custom XDM Schemas so that the Experience Platform extension can successfully serialize the provided data before sending it to the Adobe solutions and Data Platform.

{% hint style="info" %}
Mobile SDK provides predefined Java classes of the XDM Schema for commerce events in the form of a new library called _xdmlib_ for the Alpha version.
{% endhint %}



